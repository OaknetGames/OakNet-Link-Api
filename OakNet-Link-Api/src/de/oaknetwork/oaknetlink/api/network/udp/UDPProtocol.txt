The UDP Packets have to be split in 512 byte sub Packets

The packets look like this:
byte status, byte packetNumber, short subPacketNumber, short subPacketsTotal, byte[] packetData


status -> 0 sendingData; 1 OK; 2 Error
packetNumber -> The packet which is currently sent, starts with 1 to 100
subPacketNumber -> The current sent SubPacket, starts with 1
subPacketsTotal -> The total number of SubPackets in the current packet
packetData -> the packetData

The reassembled packetData is a set of Packets which look like that:
integer packetLength, byte packetID , byte[] individualPacketData

packetLength == -1 means that there is no more packet in this batch